<div class="spinner_wrapper"  *ngIf="loading"><mat-spinner></mat-spinner></div>
<div class="container">
  <header>
    <a href="#">Go back</a>
  </header>
  <section>
    <aside>
      <div class="box">
        <img src="assets/{{userPhoto}}" alt="CV-photo" (click)="openNewPhotoDialog()">
      </div>
    </aside>
    <article>
      <h1>User profile</h1>
      <mat-accordion>
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Edit details <i class="fas fa-pencil-alt"></i>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p *ngFor="let detail of details">
            <button class="user-details-info" (click)="openEditDetailsDialog($event)">{{detail.name}}</button>
          </p>
        </mat-expansion-panel>

        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Your projects <i class="fas fa-file-alt"></i>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="panel-projects-container">
            <div class="panel-project" *ngFor="let project of details">
              <div>
                <h2>
                  {{project.name}}
                </h2>
                <button routerLink="/createCV/{{project.id_detail}}">Edit</button>
                <button value="{{project.id_detail}}" (click)="copyLink($event)">Copy link</button>
                <button value="{{project.id_detail}}" (click)="deleteProject($event)">Delete</button>
              </div>
              <img src="assets/cv-example.png" alt="cv-example.png template preview">
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </article>
  </section>
</div>
